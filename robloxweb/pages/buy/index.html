<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="https://rbxsell.ru/favicon.png">
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (m, e, t, r, i, k, a) {
            m[i] =
                m[i] ||
                function () {
                    (m[i].a = m[i].a || []).push(arguments);
                };
            var z = null;
            m[i].l = 1 * new Date();
            for (var j = 0; j < document.scripts.length; j++) {
                if (document.scripts[j].src === r) {
                    return;
                }
            }
            (k = e.createElement(t)),
                (a = e.getElementsByTagName(t)[0]),
                (k.async = 1),
                (k.src = r),
                a.parentNode.insertBefore(k, a);
        })(
            window,
            document,
            "script",
            "https://mc.yandex.ru/metrika/tag.js",
            "ym"
        );

        ym(89993694, "init", {
            clickmap: true,
            trackLinks: true,
            accurateTrackBounce: true,
        });
    </script>
    <noscript
    >
        <div>
            <img
                    alt=""
                    src="https://mc.yandex.ru/watch/89993694"
                    style="position: absolute; left: -9999px"
            /></div
        >
    </noscript>
    <!-- /Yandex.Metrika counter -->
    <meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
    <meta charset="utf-8"/>
    <meta
            content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
            name="viewport"
    />
    <meta content="all" name="robots"/>
    <title>Магазин робуксов · rbxsell.ru</title>
    <meta
            content="На нашем сайте вы можете купить робуксы! Мы предлагаем очень выгодные цены на покупку различными методами. RBXsell лучший сайт по продаже игровой валюты!"
            name="description"
    />
    <meta
            content="купить робуксы, купить робаксы, магазин робуксов, покупка дешевых робуксов, покупка робуксов по выгодной цене"
            name="keywords"
    />
    <link href="https://rbxsell.ru/" rel="canonical"/>
    <link href="https://rbxsell.ru/" hreflang="ru-RU" rel="alternate"/>
    <link href="https://rbxsell.ru/en/" hreflang="en-US" rel="alternate"/>
    <meta content="Магазин робуксов · rbxsell.ru" property="og:title"/>
    <meta content="Магазин робуксов · rbxsell.ru" property="og:site_name"/>
    <meta
            content="На нашем сайте вы можете купить робуксы! Мы предлагаем очень выгодные цены на покупку различными методами. RBXsell лучший сайт по продаже игровой валюты!"
            property="og:description"
    />
    <meta content="website" property="og:type"/>
    <meta content="https://rbxsell.ru/buy" property="og:url"/>
    <meta content="/files/biglogo.png" property="og:image"/>
    <meta content="/files/biglogo.png" property="vk:image"/>
    <meta content="1000" property="og:image:width"/>
    <meta content="1000" property="og:image:height"/>
    <meta content="a5d9a1a0a4c9c0c2" name="yandex-verification"/>
    <meta content="b4a239306760d23edfa102424802a4" name="verification"/>
    <link href="/files/manrope-styles.css" rel="stylesheet"/>
    <link href="/files/gram.min.css" rel="stylesheet"/>
    <link href="https://rbxsell.ru/favicon.png" rel="icon"/>

    <link href="/files/aos.css" rel="stylesheet"/>
    <link href="/files/iziToast.min.css" rel="stylesheet"/>
    <link href="/files/all.min.css" rel="stylesheet"/>
    <link href="/files/sweetalert2.min.css" rel="stylesheet"/>
    <script
            async=""
            crossorigin="anonymous"
            integrity="sha384-0H76nLe6lW9XQtc1v1wo+7No1i8Ry7swoNNFn0AlFX/S53HjKVYcCXiBusME8bPq"
            src="/files/recaptcha__ru.js"
            type="text/javascript"
    ></script>
    <script>
        buypage_available_of = "из";
        lang_code = "ru";
        buttonPlug = '<i class="far fa-circle-notch fa-spin fa-fw"></i>';
        var course_logpass_robux = 1.15;
    </script>
    <link href="/files/roblox-style.css" rel="stylesheet"/>
</head>
<body
        cz-shortcut-listen="true"
        data-aos-delay="0"
        data-aos-duration="600"
        data-aos-easing="ease"
>
<div
        class="page-header-glass main-content-boxed side-trans-enabled"
        id="page-container"
>
    <div class="black-wrapper" id="blackWrapper"></div>
    <header id="page-header">
        <div class="content-header">
            <div class="d-flex align-items-center rx-header-menu">
                <a class="rx-headmenulink pt-0 pl-0 pr-4" href="/">
                    <img class="rx-logo" src="/files/rx-robux500-3.svg"/>
                </a>
                <a class="rx-headmenulink d-none d-xl-flex" href="/buy"
                >Купить робуксы</a
                >
                <a
                        class="rx-headmenulink d-none d-xl-flex"
                        href="https://vk.com/topic-209470634_48152220"
                >Отзывы</a
                >
                <a class="rx-headmenulink d-none d-xl-flex" href="/faq">FAQ</a>
                <a class="rx-headmenulink d-none d-xl-flex" href="/support"
                >Поддержка</a
                >
            </div>
            <div class="d-flex align-items-center rx-header-menu">
                <div
                        aria-expanded="false"
                        aria-haspopup="true"
                        class="rx-headmenulink dropdown-toggle"
                        data-toggle="dropdown"
                        style="
                padding-right: 6px;
                text-transform: none;
                letter-spacing: normal;
              "
                >
                    Language <i class="far fa-angle-down ml-1"></i>
                </div>
                <div
                        class="dropdown-menu dropdown-menu-right font-size-sm"
                        style="min-width: 200px; margin-top: -14px"
                >
                    <div class="rx-dropdown-menu-cont" style="padding: 18px">
                        <div
                                class="rx-dropdown-menu-title mb-0"
                                style="font-size: 13px"
                        >
                            Сменить язык
                        </div>
                    </div>
                    <a class="rx-dropdown-menu-link" href="/en/buy"
                    ><img src="/files/en.svg"/>English <span>EN</span></a
                    >
                    <a class="rx-dropdown-menu-link active" href="/buy"
                    ><img src="/files/ru.svg"/>Русский <span>RU</span></a
                    >
                </div>
                <a
                        class="rx-headmenulink d-none d-xl-flex"
                        href="https://t.me/rbxsellix"
                        style="padding-right: 6px"
                        target="_blank"
                ><i
                        class="fab fa-telegram"
                        style="font-size: 18px; padding-bottom: 2px"
                ></i
                ></a>
                <a
                        class="rx-headmenulink d-none d-xl-flex"
                        href="https://discord.gg/3MCJju8Ujy"
                        style="padding-right: 6px"
                        target="_blank"
                ><i
                        class="fab fa-discord"
                        style="font-size: 18px; padding-bottom: 2px"
                ></i
                ></a>
                <a
                        class="rx-headmenulink d-none d-xl-flex"
                        href="https://vk.com/rbxsellix"
                        target="_blank"
                ><i
                        class="fab fa-vk"
                        style="font-size: 18px; padding-bottom: 2px"
                ></i
                ></a>
                <div>
                    <a
                            class="rx-menulink-enter d-none d-xl-flex"
                            href="/my-purchases"
                            style="white-space: nowrap"
                    >Мои покупки</a
                    >
                </div>
                <a
                        class="rx-headmenulink d-lg-none"
                        href="#"
                        id="togglesidebar"
                        style="font-size: 30px; padding-left: 16px !important"
                ><i class="fal fa-fw fa-bars"></i
                ></a>
            </div>
        </div>
    </header>
    <style>
        .rx-buyform-tabs {
            display: none;
        }

        .rx-buyform-tabs.active {
            display: block;
        }

        .menu-sidebar {
            background: #000000;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0;
            overflow-y: scroll;
            z-index: 500;
        }

        .menu-sidebar-links {
            padding-top: 110px;
            width: 100%;
            height: 100%;
            padding-left: 0.875rem;
            padding-right: 0.875rem;
        }

        .menu-sidebar-links > .menulink {
            display: block;
            font-size: 22px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .rx-headmenulink-mobile {
                height: unset !important;
                font-size: 18px;
                margin-bottom: 25px;
                text-transform: none !important;
                padding: 0 !important;
            }

            .rx-headmenulink-badge {
                margin-top: 0 !important;
            }
        }

        @media (min-width: 768px) {
            .menu-sidebar-links {
                padding-left: 1.75rem;
                padding-right: 1.75rem;
            }
        }
    </style>

    <div class="menu-sidebar" id="menu-sidebar">
        <div class="menu-sidebar-links">
            <a class="rx-headmenulink rx-headmenulink-mobile" href="/buy"
            >Купить робуксы</a
            >
            <a
                    class="rx-headmenulink rx-headmenulink-mobile"
                    href="https://vk.com/topic-209470634_48152220"
            >Отзывы</a
            >
            <a class="rx-headmenulink rx-headmenulink-mobile" href="/faq">FAQ</a>
            <a
                    class="rx-headmenulink rx-headmenulink-mobile"
                    href="https://vk.com/rbxsellix"
            >Группа ВК</a
            >
            <a
                    class="rx-headmenulink rx-headmenulink-mobile"
                    href="https://t.me/rbxsellix"
            >Telegram</a
            >
            <a class="rx-headmenulink rx-headmenulink-mobile" href="/support"
            >Поддержка</a
            >
            <div class="pt-3 pb-5">
                <a
                        class="rx-menulink-enter"
                        href="/my-purchases"
                        style="white-space: nowrap"
                >Мои покупки</a
                >
            </div>
        </div>
    </div>
    <main id="main-container">
        <div class="pay-window-games" id="payWindowGames">
            <button onclick="showByWindow()" class="close-button"><img class="close-img" src="./assets/images/close.svg" alt="close"></button>
            <div class="pay-window-games-wrapper">
                <h3 class="pay-window-title">
                    Выберите способ оплаты
                </h3>
                <button onclick="tryBuy('payok')" class="pay-window-button">
                    <img class="pay-window-img" src="./assets/images/payok.svg" alt="payok">
                </button>
                <button onclick="tryBuy('gamemoney')" class="pay-window-button">
                    <img class="pay-window-img" src="./assets/images/gamemoney.svg" alt="gamemoney">
                </button>
            </div>
        </div>
        <div
                class="bg-image"
                id="bgImage"
                style="
            background-image: url('/assets/images/skiresort1.jpg');
            background-position: center;
            transition: background 0.5s ease;
            background-attachment: fixed;
          "
        >
            <div
                    class="hero"
                    style="
              position: relative;
              overflow: hidden;
              background-color: rgba(23, 10, 32, 0.9);
            "
            >
                <div class="hero-inner">
                    <div class="content content-boxed pt-0 pb-5">
                        <style>
                            .rx_buysline_container {
                                margin: 0;
                                overflow-y: hidden;
                                overflow-x: scroll;
                                cursor: -webkit-grab;
                                cursor: -moz-grab;
                                cursor: -o-grab;
                                cursor: grab;
                            }

                            .rx_buysline_container::-webkit-scrollbar {
                                display: none;
                            }

                            .rx_buysline {
                                display: flex;
                                align-items: center;
                            }

                            .rx_buysline_container::-webkit-scrollbar {
                                width: 6px;
                                height: 0;
                                border-radius: 6px;
                                background-color: rgba(95, 92, 130, 0.1);
                            }

                            .rx_buysline_container::-webkit-scrollbar-thumb {
                                background-color: rgba(206, 206, 206, 0.2);
                                border-radius: 6px;
                            }

                            .rx_buysline_item-block {
                                flex-shrink: 0;
                                margin-right: 10px;
                            }

                            .rx_buysline_item-pre {
                                position: relative;
                                padding: 10px 12px;
                                background-color: rgb(104, 149, 80, 0.2);
                                backdrop-filter: blur(6px);
                                border-radius: 0 0 8px 8px;
                                user-select: none;
                                overflow: hidden;
                                font-size: 12px;
                                font-weight: 700;
                                color: #689550;
                                line-height: 1;
                            }

                            .rx_buysline_item {
                                position: relative;
                                padding: 14px 12px;
                                background-color: rgba(95, 92, 130, 0.2);
                                backdrop-filter: blur(6px);
                                border-radius: 8px;
                                user-select: none;
                                overflow: hidden;
                                min-width: 150px;
                            }

                            .rx_buysline_item_amount {
                                font-size: 24px;
                                font-weight: 800;
                                color: #02b757;
                                line-height: 1;
                            }

                            .rx_buysline_item_buyer {
                                font-size: 12px;
                                font-weight: 700;
                                color: #ffffff;
                                line-height: 1;
                            }

                            .rx_buysline_item_method {
                                float: right;
                            }

                            .rx_buysline_item_method-group:before {
                                content: "\f0c0";
                            }

                            .rx_buysline_item_method-group:after {
                                content: "\10f0c0";
                            }

                            .rx_buysline_item_method-transfer:before {
                                content: "\f362";
                            }

                            .rx_buysline_item_method-transfer:after {
                                content: "\10f362";
                            }

                            .rx_buysline_item_method-redeem:before {
                                content: "\f464";
                            }

                            .rx_buysline_item_method-redeem:after {
                                content: "\10f464";
                            }

                            .rx_buysline_item_method-logpass:before {
                                content: "\f2f6";
                            }

                            .rx_buysline_item_method-logpass:after {
                                content: "\10f2f6";
                            }
                        </style>
                        <div class="rx_buysline_container horizontal dragscroll">
                            <div class="rx_buysline" id="buysLine"></div>
                        </div>
                        <script id="itemDrop" type="text/x-jquery-tmpl">
                  <div class="rx_buysline_item-block"> <div class="rx_buysline_item"> <div class="d-flex justify-content-between align-items-center" style="margin-bottom: 18px;"> <div class="rx_buysline_item_amount">${amount} R$</div> {{if priority > 0}}<img style="height: 18px; flex-shrink: 0" src="/assets/icons/emoji_happy.png">{{/if}} </div> <div class="rx_buysline_item_buyer">${username} <span class="rx_buysline_item_method"><i class="fad rx_buysline_item_method-${type} ml-2"></i></span></div> </div> </div>






                        </script>
                    </div>
                    <div
                            class="content content-boxed pb-0 mb-0"
                            style="max-width: 900px !important"
                    >
                        <div class="rx-mainbg-title text-center mb-5">
                            Магазин робуксов
                        </div>
                        <div class="row gutters-tiny-bigger justify-content-center">
                            <div class="col-md-6">
                                <div class="rx-buyform-btn active" data-tab="transfer">
                                    <div class="rx-buyform-btn-up">
                                        <div>
                                            <div class="rx-buyform-btn-text">
                                                Покупка трансфером
                                            </div>
                                            <div class="rx-buyform-btn-desc updateCourseTransfer">
                                                <i class="far fa-circle-notch fa-spin fa-fw"></i>
                                            </div>
                                        </div>
                                        <i class="fad fa-exchange-alt"></i>
                                    </div>
                                    <div class="rx-buyform-btn-pre-coursedesc">Доступно</div>
                                    <div
                                            class="rx-buyform-btn-coursedesc updateStatsBalanceTransfer"
                                            style="color: #7ed320"
                                    >
                                        <i class="far fa-circle-notch fa-spin fa-fw"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="rx-buyform-btn" data-tab="group">
                                    <div class="rx-buyform-btn-up">
                                        <div>
                                            <div class="rx-buyform-btn-text">
                                                Покупка из группы
                                            </div>
                                            <div class="rx-buyform-btn-desc updateCourseGroup">
                                                <i class="far fa-circle-notch fa-spin fa-fw"></i>
                                            </div>
                                        </div>
                                        <i class="fad fa-users"></i>
                                    </div>
                                    <div class="rx-buyform-btn-pre-coursedesc" id="isGroupAvailable">Доступно</div>
                                    <div
                                            class="rx-buyform-btn-coursedesc updateStatsBalance"
                                            style="color: #7ed320"
                                    ><i class="far fa-circle-notch fa-spin fa-fw"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 d-none">
                                <div class="rx-buyform-btn" data-tab="logpluspass">
                                    <div class="rx-buyform-btn-up">
                                        <div>
                                            <div class="rx-buyform-btn-text">
                                                Покупка LOG+PASS
                                            </div>
                                            <div class="rx-buyform-btn-desc">
                                                1 RUB =
                                                <span class="updateCourseLogPass">1.15</span> R$
                                            </div>
                                        </div>
                                        <i class="fad fa-sign-in-alt"></i>
                                    </div>
                                    <div class="rx-buyform-btn-pre-coursedesc">Доступно</div>
                                    <div
                                            class="rx-buyform-btn-coursedesc"
                                            style="color: #7ed320"
                                    >
                        <span class="updateStatsBalanceLogPass"
                        >-116.066 R$</span
                        >
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 d-none">
                                <div class="rx-buyform-btn" data-tab="redeem">
                                    <div class="rx-buyform-btn-up">
                                        <div>
                                            <div class="rx-buyform-btn-text">
                                                Покупка через коды
                                                <div class="rx-headmenulink-badge">NEW</div>
                                            </div>
                                            <div class="rx-buyform-btn-desc">
                                                1 RUB =
                                                <span class="updateCourseRedeem">1.42</span> R$
                                            </div>
                                        </div>
                                        <i class="fad fa-barcode-read"></i>
                                    </div>
                                    <div class="rx-buyform-btn-pre-coursedesc">Доступно</div>
                                    <div
                                            class="rx-buyform-btn-coursedesc"
                                            style="color: #7ed320"
                                    >
                                        <span class="updateStatsBalanceRedeem">0 R$</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                            class="content content-boxed pt-1 pb-6"
                            style="max-width: 800px !important"
                    >
                        <div class="rx-buyform-tabs" id="group">
                            <div
                                    class="rx-buyform d-flex justify-content-between"
                                    style="flex-wrap: wrap"
                            >
                                <img
                                        class="mr-4 mb-4"
                                        src="/assets/icons/emoji_happy.png"
                                        style="height: 40px; flex-shrink: 0"
                                />
                                <div class="line-height-3 w-100" style="max-width: 600px">
                                    <div class="font-size-h5 font-w600 text-white mb-2">
                                        Воу! Всего несколько дней и робуксы у Вас!
                                    </div>
                                    <div class="font-size-sm text-white line-height-5 mb-2">
                                        Если вы покупали у нас 16 дней назад в той же группе,
                                        которая активна сейчас, а также не покидали её, то вы
                                        можете получить робуксы моментально.
                                    </div>
                                    <div class="font-size-sm text-white line-height-5 mb-0">
                                        Вы увидите уведомление о быстрой отправке перед покупкой
                                    </div>
                                </div>
                            </div>
                            <div class="rx-buyform" id="formBuy">
                                <div class="rx-buyform-header">
                                    <div class="mb-4">
                                        <div class="rx-buyform-header-title mb-3">
                                            Покупка через группу
                                        </div>
                                        <div class="rx-buyform-header-subtitle mb-0">
                                            Покупая робуксы из группы вы получаете их через 16
                                            дней на свой аккаунт
                                        </div>
                                    </div>
                                    <div class="rx-buyform-header-title mb-4 text-center">
                                        <div class="updateCourseGroup">
                                            <i class="far fa-circle-notch fa-spin fa-fw"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="rx-input-cont mb-0">
                                    <div class="rx-input-title">
                                        Введите ваш никнейм (username)
                                        <span
                                                class="float-right text-gray"
                                                id="rx_gp_username_load"
                                        ></span>
                                    </div>
                                    <div class="input-group rx-input-group">
                                        <div class="input-group-prepend">
                          <span class="input-group-text"
                          ><i class="fad fa-user"></i
                          ></span>
                                        </div>
                                        <input
                                                class="rx-input"
                                                id="rx_gp_username"
                                                placeholder="Username"
                                                required=""
                                                type="text"
                                        />
                                    </div>
                                </div>
                                <div id="boughtContainer"></div>
                                <div class="mb-4">
                                    <div
                                            class="rx-info-block mt-2"
                                            id="rx_lastbuy_info"
                                            style="display: none; height: unset"
                                    >
                                        <div
                                                class="d-flex align-items-center justify-content-between py-2"
                                                id="rx_lastbuy_info_line"
                                        ></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="rx-input-title">
                                            Отдаёте RUB
                                            <span class="float-right"
                                            >~
                            <span id="rx_gp_rubbles_usd">0.00</span> USD</span
                                            >
                                        </div>
                                        <div class="input-group rx-input-group">
                                            <div class="input-group-prepend">
                            <span class="input-group-text"
                            ><i class="fad fa-ruble-sign"></i
                            ></span>
                                            </div>
                                            <input
                                                    class="rx-input"
                                                    id="rx_gp_rubbles"
                                                    placeholder="1"
                                                    required=""
                                                    type="number"
                                            />
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="rx-input-title">Получите робуксов</div>
                                        <div class="input-group rx-input-group">
                                            <div class="input-group-prepend">
                            <span class="input-group-text"
                            ><i class="fad fa-coins"></i
                            ></span>
                                            </div>
                                            <input
                                                    class="rx-input"
                                                    id="rx_gp_robuxes"
                                                    placeholder="-"
                                                    required=""
                                                    type="number"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-7 mb-4">
                                        <div class="rx-input-cont">
                                            <div class="rx-input-title">
                                                Введите промокод (если есть)
                                            </div>
                                            <div class="input-group rx-input-group">
                                                <div class="input-group-prepend">
                              <span class="input-group-text"
                              ><i class="fad fa-user"></i
                              ></span>
                                                </div>
                                                <input
                                                        class="rx-input"
                                                        id="rx_gp_promocode"
                                                        placeholder="Promocode"
                                                        required=""
                                                        type="text"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-5 mb-4">
                                        <div class="rx-input-cont">
                                            <div class="rx-input-title rx-info-block-title">
                                                &nbsp;
                                            </div>
                                            <div
                                                    class="rx-info-block d-flex align-items-center justify-content-center"
                                                    id="rx_promocode_info"
                                            >
                                                Без промокода
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <style>
                                    .rx-selectgroup-icon {
                                        height: 40px;
                                        width: 40px;
                                    }

                                    .rx-selectgroup-pre {
                                        font-size: 14px;
                                        font-weight: 700;
                                        color: #fff;
                                        line-height: 1.6;
                                        text-align: center;
                                    }

                                    .rx-selectgroup-title {
                                        font-size: 15px;
                                        font-weight: 700;
                                        color: #fff;
                                        line-height: 1;
                                        margin-bottom: 8px;
                                    }

                                    .rx-selectgroup-amount {
                                        font-size: 13px;
                                        font-weight: 800;
                                        color: #7ed320;
                                        line-height: 1;
                                    }

                                    .rx-selectgroup-btn {
                                        font-size: 14px;
                                        width: 100%;
                                    }

                                    .rx-selectgroup-input input[type="radio"] + label,
                                    .rx-selectgroup-input input[type="radio"] + label:hover {
                                        background-color: #211940 !important;
                                    }

                                    .rx-selectgroup-input input[type="radio"] + label > * {
                                        opacity: 0.5;
                                    }

                                    .rx-selectgroup-input
                                    input[type="radio"]:checked
                                    + label
                                    > * {
                                        opacity: 1;
                                    }

                                    .rx-selectgroup-input-pre {
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        font-size: 15px;
                                        font-weight: 700;
                                        color: #fff;
                                        line-height: 1;
                                        border-radius: 4px;
                                        background-color: rgba(255, 170, 0, 0.2);
                                        padding: 8px 10px 16px 10px;
                                        margin-bottom: -8px;
                                    }
                                </style>
                                <div class="rx-selectgroup-pre mb-4">
                                    Для получения робуксов Вам нужно выбрать желаемую
                                    группу.<br class="hide"/>Система подскажет лучшую группу
                                    для Вас после ввода ника
                                </div>
                                <div
                                        class="row gutters-tiny-bigger mb-2 rx-selectgroup-input-line"
                                        style="align-items: flex-end"
                                >
                                    <div class="col-md-6 mb-3">
                                        <div
                                                checked=""
                                                class="rx-selectgroup-input-pre"
                                                data-order="first"
                                                id="sgpre_6652790"
                                                style="display: none"
                                        ></div>
                                        <div
                                                class="rx-selectgroup-input custom-control custom-block custom-control-primary"
                                        >
                                            <input
                                                    checked=""
                                                    class="custom-control-input"
                                                    data-order="first"
                                                    id="selectGroup_122"
                                                    name="rx_selected_group"
                                                    type="radio"
                                                    value="6652790"
                                            />
                                            <label
                                                    class="custom-control-label py-3"
                                                    for="selectGroup_122"
                                                    id="groupInfo"
                                            >
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <button class="rx-button-purple w-100" id="buyGroup">
                                    Купить робуксы
                                </button>
                            </div>
                        </div>
                        <div class="rx-buyform-tabs active" id="transfer">
                            <div
                                    class="rx-buyform d-flex justify-content-between"
                                    style="flex-wrap: wrap"
                            >
                                <img
                                        class="mr-4 mb-4"
                                        src="/files/emoji_thinking_face.png"
                                        style="height: 40px; flex-shrink: 0"
                                />
                                <div class="line-height-3 w-100" style="max-width: 600px">
                                    <div class="font-size-h5 font-w600 text-white mb-2">
                                        Как работает метод трансфер?
                                    </div>
                                    <div class="font-size-sm text-white line-height-5 mb-2">
                                        При покупке трансфером вы выставляете определённую цену
                                        на свой Gamepass в игре, а наш сайт покупает его у Вас.
                                        После этого вы получаете робуксы на свой аккаунт через
                                        5-7 дней.
                                    </div>
                                    <div class="font-size-sm text-white line-height-5 mb-0">
                                        Следить за статусом робуксов можно будет в самом
                                        аккаунте в игре или на нашем сайте
                                    </div>
                                </div>
                            </div>
                            <!--                  <div-->
                            <!--                    class="rx-alert mb-3"-->
                            <!--                    style="-->
                            <!--                      justify-content: flex-start;-->
                            <!--                      border-color: #02b757;-->
                            <!--                      flex-wrap: nowrap;-->
                            <!--                    "-->
                            <!--                  >-->
                            <!--                    <div class="rx-alert-icon pr-3" style="flex-shrink: 0">-->
                            <!--                      <i class="fad fa-info-circle" style="color: #02b757"></i>-->
                            <!--                    </div>-->
                            <!--                    <div class="rx-alert-text" style="max-width: 700px">-->
                            <!--                      Ура! Мы сделали возможность покупать сразу большими-->
                            <!--                      суммами через трансфер.<br />Мы просто купим ваш Place-->
                            <!--                      несколько раз и вы получите желаемое количество робуксов-->
                            <!--                    </div>-->
                            <!--                  </div>-->
                            <div class="rx-buyform" id="formBuyTransfer">
                                <div id="buyTransfer_step1">
                                    <div class="rx-buyform-header">
                                        <div class="mb-4">
                                            <div class="rx-buyform-header-title mb-3">
                                                Покупка через трансфер
                                            </div>
                                            <div class="rx-buyform-header-subtitle mb-0">
                                                Покупая робуксы трансфером вы получаете робуксы
                                                сразу, с зачислением через 5 дней
                                            </div>
                                        </div>
                                        <div class="rx-buyform-header-title mb-4 text-center">
                                            <div class="updateCourseTransfer"><i
                                                    class="far fa-circle-notch fa-spin fa-fw"></i>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="rx-input-cont mb-4">
                                        <div class="rx-input-title">
                                            Введите ваш никнейм (username)
                                        </div>
                                        <div class="input-group rx-input-group">
                                            <div class="input-group-prepend">
                            <span class="input-group-text"
                            ><i class="fad fa-user"></i
                            ></span>
                                            </div>
                                            <input
                                                    class="rx-input"
                                                    id="rx_tf_username"
                                                    name="username"
                                                    placeholder="Username"
                                                    required=""
                                                    type="text"
                                            />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 mb-4">
                                            <div class="rx-input-title">Отдаёте RUB</div>
                                            <div class="input-group rx-input-group">
                                                <div class="input-group-prepend">
                              <span class="input-group-text"
                              ><i class="fad fa-ruble-sign"></i
                              ></span>
                                                </div>
                                                <input
                                                        class="rx-input"
                                                        id="rx_tf_rubbles"
                                                        name="amount"
                                                        oninput="onInputRubles()"
                                                        placeholder="1"
                                                        required=""
                                                        type="number"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-4">
                                            <div class="rx-input-title">Получите робуксов</div>
                                            <div class="input-group rx-input-group">
                                                <div class="input-group-prepend">
                              <span class="input-group-text"
                              ><i class="fad fa-coins"></i
                              ></span>
                                                </div>
                                                <div style="position: absolute; bottom: -17px; color: #02b757; font-size: 10px;">
                                                    Максимум R$ за один заказ: <span id="max_robuxes"></span>
                                                </div>
                                                <input
                                                        class="rx-input"
                                                        id="rx_tf_robuxes"
                                                        placeholder="-"
                                                        required=""
                                                        type="number"
                                                        oninput="onInputRobuxes()"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <button
                                            class="rx-button-purple w-100"
                                            id="buyTransferNext"
                                    >
                                        Купить робуксы
                                    </button>
                                </div>

                                <div id="buyTransfer_step2" style="display: none;">
                                    <div class="d-flex mb-4" style="max-width: 700px">
                                        <div class="rx-walletadd-num">1</div>
                                        <div class="w-100">
                                            <div class="rx-walletadd-numtext mb-3">
                                                Перейти в настройки своего Place по кнопке «Перейти
                                                на Place». Затем войти в раздел «Passes» в левом
                                                списке<br /> <br/>
                                                Примечание - если у вас телефон/планшет после перехода
						по кнопке включите версию для пк и нажмите кнопку
						«Manage My experiences»
                                            </div>
                                            <div class="mb-3">
                                                <a href="" id="tfbuy_link" target="_blank">
                                                    <div class="rx-alert-btn" style="text-transform: none">
                                                        Перейти на Place
                                                    </div>
                                                </a>
                                            </div>
                                            <img class="w-100" src="/assets/images/steps_buy/step1.png" style="border-radius: 8px"/>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-4" style="max-width: 700px">
                                        <div class="rx-walletadd-num">2</div>
                                        <div class="w-100">
                                            <div class="rx-walletadd-numtext mb-3">
                                                Загрузите любую картинку по кнопке «Выберите файл» далее назовите
                                                геймпасс любым именем во вкладке «Pass Name». После нажимаем кнопку
                                                «Preview»
                                            </div>
                                            <img class="w-100" src="/assets/images/steps_buy/step2.png" style="border-radius: 8px"/>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-4" style="max-width: 700px">
                                        <div class="rx-walletadd-num">3</div>
                                        <div class="w-100">
                                            <div class="rx-walletadd-numtext mb-3">
                                                Жмём кнопку «Verify Upload»
                                            </div>
                                            <img class="w-100" src="/assets/images/steps_buy/step3.png" style="border-radius: 8px"/>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-4" style="max-width: 700px">
                                        <div class="rx-walletadd-num">4</div>
                                        <div class="w-100">
                                            <div class="rx-walletadd-numtext mb-3">
                                                Ищем нам геймпасс в списке, жмем на шестеренку далее «Configure»
                                            </div>
                                            <img class="w-100" src="/assets/images/steps_buy/step4.png" style="border-radius: 8px"/>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-4" style="max-width: 700px">
                                        <div class="rx-walletadd-num">5</div>
                                        <div class="w-100">
                                            <div class="rx-walletadd-numtext mb-3">
                                                Нужно перейти в «Sales», включить «Item for Sales» и установить количество робуксов на <span id="needRobux"></span> R$. После нажать на кнопку «Save»
                                            </div>
                                            <canvas id="rbx-show" class="w-100" width="1173" height="272" style="border-radius: 8px"></canvas>
                                        </div>
                                    </div>
                                    <div class="rx-alert mb-4">
                                        <div
                                                class="rx-alert-icon pr-3"
                                                id="acceptedTick"
                                                style="flex-shrink: 0"
                                        >
                                            <i class="fad fa-square"></i>
                                        </div>
                                        <div
                                                class="rx-alert-text"
                                                style="max-width: 500px; font-size: 13px"
                                        >
                                            Я подтверждаю, что установил(а) цену Gamepass на
                                            <span class="tfbuy_sum_price"></span> R$ и сохранил(а)
                                            данные настройки, чтобы получить
                                            <span class="tfbuy_earn_price"></span> R$ на свой
                                            аккаунт после оплаты
                                        </div>
                                    </div>
                                    <button class="rx-button-purple w-100" id="buyTransfer" onclick="showByWindow()">
                                        Подтвердить и купить робуксы
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="rx-buyform" style="padding: 29px 30px 25px 30px">
                            <div
                                    class="rx-paymethods d-flex align-items-center justify-content-between"
                                    style="flex-wrap: wrap"
                            >
                                <img height="26" src="/files/visa.svg"/>
                                <img height="32" src="/files/mastercard.svg"/>
                                <img height="30" src="/files/qiwi.svg"/>
                                <img height="30" src="/files/yandex.svg"/>
                                <img height="28" src="/files/webmoney.svg"/>
                            </div>
                            <div class="rx-paymethods-desc">
                                И ещё более 25 способов по всему миру
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="/files/wl.core.min.js"></script>
    <script src="/files/wl.app.min.js"></script>
    <script src="/files/dragscroll.js"></script>
    <script src="/files/jquery.tmpl.min.js"></script>
    <script src="/files/new-mm-buys"></script>
    <footer class="light" id="page-footer">
        <div class="content content-boxed rx-footer">
            <div class="rx-footer-info">
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <p class="rx-footer-title mb-3">Полезные ссылки</p>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/buy">Купить робуксы</a>
                        </div>

                        <div class="mb-2">
                            <a
                                    class="text-white font-w500"
                                    href="https://vk.com/topic-209470634_48152220"
                            >Отзывы</a
                            >
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/my-purchases"
                            >Проверить покупки</a
                            >
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/status"
                            >Статус серверов</a
                            >
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <p class="rx-footer-title mb-3">Помощь</p>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/faq"
                            >Вопросы и ответы</a
                            >
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/support">Поддержка</a>
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/agreement"
                            >Пользовательское соглашение</a
                            >
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/privacy"
                            >Политика конфиденциальности</a
                            >
                        </div>
                        <div class="mb-2">
                            <a class="text-white font-w500" href="/contacts">Контакты</a>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <p class="rx-footer-title mb-3">Поддержка</p>
                        <div class="rx-footer-text" style="margin-bottom: 40px">
                            <a class="text-white" href="mailto:support@rbxsell.ru"
                            >support@rbxsell.ru</a
                            >
                        </div>
                        <p class="rx-footer-title mb-3">Присоединяйся к группе ВК</p>
                        <div class="rx-footer-text mb-2">
                            <a class="text-white" href="https://vk.com/rbxsellix"
                            >vk.com/rbxsellix</a
                            >
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <p class="rx-footer-title mb-3">Сотрудничество</p>
                        <p class="text-white font-w500 mb-3">
                            Запиши видео о сайте и получи 100 робуксов, а также мы
                            сотрудничаем с каналами от 1000 просмотров, пишите.
                        </p>
                        <div class="rx-textyellow font-w500 mb-2">
                            <a class="rx-textyellow" href="https://t.me/merkant_sup"
                            >Написать менеджеру<i class="fad fa-user ml-2"></i
                            ></a>
                        </div>
                    </div>
                    <div class="col-md-12 text-center mb-0" style="opacity: 0.9">
                        <img class="mx-1" height="30" src="/files/paylogo_1.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_2.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_3.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_4.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_5.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_6.png"/>
                        <img class="mx-1" height="30" src="/files/paylogo_7.png"/>
                    </div>
                </div>
            </div>
            <div class="rx-footer-line">
                <div class="rx-footer-line-info">
                    Copyright
                    <i class="far fa-copyright" style="font-size: 12px"></i> 2022
                    rbxsell.ru
                </div>
                <div class="rx-footer-line-info">All rights reserved</div>
            </div>
        </div>
    </footer>
</div>
<script
        crossorigin="anonymous"
        integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k"
        src="https://cdn.socket.io/4.5.0/socket.io.min.js"
></script>
<script>
    const socket = io();
</script>
<script src="/files/iziToast.min.js"></script>
<script>
    document.getElementById("rx_gp_username").onblur = ({target}) => {
        fetch("/bought16", {
            method: 'POST', headers: {
                Accept: "application/json",
                "Content-Type": "application/json",
            },
            body: JSON.stringify({username: target.value})
        }).then(res => res.json()).then(res => {
            if (res.bought) {
                document.getElementById("boughtContainer").innerHTML = `<div class="rx-buyform d-flex justify-content-between" style="flex-wrap: wrap;background:#18132e;margin-top:15px"> <img class="mr-4 mb-4" style="height: 40px; flex-shrink: 0" src="/assets/icons/emoji_happy.png"> <div class="line-height-3 w-100" style="max-width: 600px;">  <div class="font-size-sm text-white line-height-5 mb-2">Мы отправим вам робуксы <span style="color: #02b757">моментально</span>, сразу после покупки, так как вы покупали из этой группы более 16 дней назад.</div>  </div> </div>`;
            } else {
                document.getElementById("boughtContainer").innerHTML = ''
            }
        })
    }
    let course_transfer_robux, course_group_robux, robuxMax, groupRobuxMax;

    let maxRobuxPerOrder, allRobux, exchangeRate;

    function onInputRubles() {
        let e = document.querySelector("#rx_tf_rubbles");
        let sum = parseInt(e.value) || 0;
        if (sum * exchangeRate > maxRobuxPerOrder) sum = Math.floor(maxRobuxPerOrder / exchangeRate);
        e.value = sum;
    }

    function showByWindow() {
        const blackWrapper = document.getElementById("blackWrapper");
        const payWindow = document.getElementById("payWindowGames");
        payWindow.classList.toggle("pay-window-games-show");
        blackWrapper.classList.toggle("black-wrapper-show");
    }


    function onInputRobuxes() {
        let e = document.querySelector("#rx_tf_robuxes");
        let sum = parseInt(e.value) || 0;
        if (sum > maxRobuxPerOrder) sum = maxRobuxPerOrder;
        e.value = sum;
    }

    fetch("/api/stats").then(r => r.json()).then(r => {
        maxRobuxPerOrder = r.maxRobuxPerOrder;
        allRobux = r.allRobux;
        document.querySelector("#max_robuxes").innerText = maxRobuxPerOrder;
        document.querySelector(".updateStatsBalanceTransfer").innerHTML = `<span>${allRobux} R$`;
    });
    fetch("/statistics")
        .then((res) => res.json())
        .then((res) => {
            exchangeRate = res.exchangeRate;

            console.log(res.isGroupAvailable)
            const isGroupAvailable = res.isGroupAvailable === true || res.isGroupAvailable === 'true';
            document.getElementById('isGroupAvailable').innerText = isGroupAvailable ? 'Доступно' : 'Временно недоступно'
            if (!isGroupAvailable) {
                document.querySelector('[data-tab="group"]').setAttribute('disabled', 'true')
            }
            document.querySelector(".updateStatsBalance").innerHTML = `<span>${isGroupAvailable ? res.groupAvailable : '???'} R$</span>`;
            robuxMax = res.available;
            groupRobuxMax = res.groupAvailable;
            document.querySelectorAll(".updateCourseTransfer").forEach((elem) => {
                elem.innerHTML = `<span class="rx-textgradient">1 RUB = ${res.exchangeRate} R$</span>`;
            });
            document.querySelectorAll(".updateCourseGroup").forEach((elem) => {
                elem.innerHTML = `<span class="rx-textgradient">1 RUB = ${res.groupExchangeRate} R$</span>`;
            });
            document.getElementById("rx_gp_robuxes").setAttribute('placeholder', res.groupExchangeRate)
            document
                .getElementById("rx_tf_robuxes")
                .setAttribute("placeholder", res.exchangeRate);
            let sum = Math.floor(maxRobuxPerOrder / res.exchangeRate);
            course_transfer_robux = res.exchangeRate;
            course_group_robux = res.groupExchangeRate;
            course_dollar_usd = res.dollarExchangeRate;
        });
    fetch("/group")
        .then((res) => res.json())
        .then((res) => {
            document.getElementById("groupInfo").innerHTML = `
          <div  class="d-flex align-items-center mb-3">
            <div class="text-center mr-3" style="width: 40px; flex-shrink: 0">
                                <img class="rx-selectgroup-icon w-100" src="${res.logo}" />
                              </div>
                              <div class="w-100">
                                <div class="rx-selectgroup-title">${res.name}</div>
                                <div class="rx-selectgroup-amount">${res.funds} R$</div>
                              </div>
                            </div>
                            <div>
                              <a target="_blank" href="${`https://www.roblox.com/groups/${res.id}`}">
                              <button class="rx-alert-btn rx-selectgroup-btn">Вступить</button>
                              </a>
                            </div>
                            <div style="color: #ccc; font-size: 13px; font-weight: 600; text-align: center; margin-top: 12px; display: none;">
                              Время первого ожидания: 16 дней
                            </div>`;
        });
</script>
<script src="/files/getLastOrders.js"></script>
<script>
    let placeID, course_dollar_usd, expected_price;
    let promocodeDiscount = 0;
    const tick = document.getElementById("acceptedTick");
    tick.addEventListener("click", () => {
        tick.querySelector("i").classList.toggle("fa-square");
        tick.querySelector("i").classList.toggle("fa-check-square");
    });
    const groupButton = document.getElementById("buyGroup");
    groupButton.addEventListener("click", () => {
        const username = document.getElementById("rx_gp_username").value;
        if (!username) {
            groupButton.removeAttribute("disabled");
            groupButton.innerHTML = "Купить робуксы";
            return iziToast.error({
                message: "Введите корректное имя пользователя.",
            });
        }
        fetch("/isingroup", {
            method: "POST",
            headers: {
                Accept: "application/json",
                "Content-Type": "application/json",
            },
            body: JSON.stringify({username}),
        })
            .then((res) => res.json())
            .then((res) => {
                console.log(res)
                if (!res.ingroup) {
                    groupButton.removeAttribute("disabled");
                    groupButton.innerHTML = "Купить робуксы";

                    return iziToast.error({message: "Вас еще нет в группе."});
                }
                sendGroup()
            });
    });
    document.querySelectorAll(".rx-buyform-btn").forEach((elem) => {
        elem.addEventListener("click", ({target}) => {
            if (elem.getAttribute("disabled")) return;
            document
                .querySelector(".rx-buyform-btn.active")
                .classList.remove("active");
            document
                .querySelector(".rx-buyform-tabs.active")
                .classList.remove("active");
            elem.classList.add("active");
            document.getElementById(elem.dataset.tab).classList.add("active");
        });
    });

    async function send({target}) {
        target.setAttribute('disabled', true);
        target.innerHTML = `<i class="far fa-circle-notch fa-spin fa-fw"></i>`;
        if (!tick.querySelector("i").classList.contains("fa-check-square")) {

            target.removeAttribute('disabled');
            target.innerHTML = `Подтвердить и купить робуксы`;
            return iziToast.error({
                message: "Подтвердите выставление цену на Place, поставив галочку.",
            });
        }
        const response = await fetch("/isrightprice", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({id: placeID, expected_price})
        });
        const {isRightPrice} = await response.json()
        if (!isRightPrice) {

            target.removeAttribute('disabled');
            target.innerHTML = `Подтвердить и купить робуксы`;
            return iziToast.error({message: "Цена на Place неверна."})
        }
        let form = document.forms[0];
        let formData = new FormData(form);
        const username = document.getElementById("rx_tf_username").value;
        const amount = document.getElementById("rx_tf_rubbles").value;
        let search = new URLSearchParams({
            username,
            amount,
            placeID,
            type: 'transfer'
        }).toString();
        location.href = "/processbuy?" + search;
    }

    function sendGroup() {
        const username = document.getElementById("rx_gp_username").value;
        const amount = document.getElementById("rx_gp_rubbles").value;
        const promocode = document.getElementById('rx_gp_promocode').value;
        let search = new URLSearchParams({
            username,
            amount,
            type: 'group',
            promocode
        }).toString();
        location.href = "/processbuy?" + search;
    }

    document.getElementById('rx_gp_promocode').addEventListener('input', ({target: input}) => {
        if (!input.value) return document.getElementById('rx_promocode_info').innerHTML = 'Без промокода';
        document.getElementById('rx_promocode_info').innerHTML = '<i class="far fa-circle-notch fa-spin fa-fw"></i>';
        fetch('/checkpromocode', {
            method: 'POST', headers: {
                Accept: "application/json",
                "Content-Type": "application/json",
            },
            body: JSON.stringify({value: input.value})
        }).then(res => res.json()).then(res => {
            if (res.exists) {
                promocodeDiscount = res.discount;
                document.getElementById('rx_promocode_info').innerHTML = `Скидка ${res.discount}%`;
            } else {
                promocodeDiscount = 0;
                document.getElementById('rx_promocode_info').innerHTML = 'Промокод не найден';
            }
            document.getElementById('rx_gp_rubbles').value = document.getElementById('rx_gp_rubbles').value * (1 - promocodeDiscount * 0.01)
            document.getElementById('rx_gp_rubbles').dispatchEvent(new Event('input', {
                bubbles: true,
                cancelable: true,
            }));
        })
    })

    let selectedGameId = null;
    let userId = null;

    function getPictures(ids) {
        return new Promise(async res => {
            fetch("/api/games/icons?id=" + ids.join(",")).then(r => r.json()).then(r => {
                res(r.data);
            }).catch(e => res({ok: false}));
        });
    }

    let checking = false;

    function tryBuy(payType){
			if (!tick.querySelector("i").classList.contains("fa-check-square")) {
				iziToast.warning({ message: "Поставьте галочку" });
				return;
			}
			if(checking) return;
			checking = true;
			let c = "a" + Date.now().toString(16);
			iziToast.info({ message: "Проверяем возможность купить ваш Pass", timeout: false, close: false, class: c });
			// showByWindow()
			fetch('https://ipapi.co/json/').then(d => d.json()).then(d => {
				console.log("IP:" + d.ip);
				fetch(`/api/can_buy`, {
					method: "POST",
					headers: { 'content-type': 'application/json' },
					body: JSON.stringify({
						userId,
						sum: parseInt(document.querySelector("#rx_tf_robuxes").value),
						rate: exchangeRate,
						gameId: selectedGameId,
						username: document.querySelector("#rx_tf_username").value.trim(),
						ip: d.ip,
						payType: payType,
					})
				}).then(r => r.json()).then(r => {
					iziToast.hide({}, document.querySelector("." + c));
					if(!r.ok) return [checking = false, iziToast.error({ message: r.error })];
					iziToast.success({ message: "Успешно, переводим на оплату" });
					setTimeout(() => {
						window.location.href = r.link;
					}, 1000);
				}).catch(e => {
					try{
						iziToast.hide({}, document.querySelector("." + c));
					} catch { }
					checking = false;
					iziToast.error({ message: "Не удалось проверить возможность. Попробуйте позже" });
				});
			});
    }

    function checkBuy(payType) {
			fetch('https://ipapi.co/json/').then(d => d.json()).then(d => {
				console.log("IP:" + d.ip);
				fetch(`/api/can_buy`, {
					method: "POST",
					headers: { 'content-type': 'application/json' },
					body: JSON.stringify({
						userId,
						sum: parseInt(document.querySelector("#rx_tf_robuxes").value),
						rate: exchangeRate,
						gameId: selectedGameId,
						username: document.querySelector("#rx_tf_username").value.trim(),
						ip: d.ip,
						payType: "payok",
					})
				}).then(r => r.json()).then(r => {
					iziToast.hide({}, document.querySelector("." + c));
					console.log("Here");
					if(!r.ok) return [checking = false, iziToast.error({ message: r.error })];
                    console.log("Here1");
					iziToast.success({ message: "Успешно, переводим на оплату" });
					setTimeout(() => {
						window.location.href = r.link;
					}, 1000);
				}).catch(e => {
					try{
						iziToast.hide({}, document.querySelector("." + c));
					} catch { }
					checking = false;
					iziToast.error({ message: "Не удалось проверить возможность. Попробуйте позже" });
				});
			});

    }

    function selectGame(id) {
        selectedGameId = id;
        document.getElementById("selectGame").classList.remove("active");
        document.getElementById("buyTransfer_step1").style.display = "none";
        document.getElementById("buyTransfer_step2").style.display = "block";
        document.getElementById("tfbuy_link").href = `https://www.roblox.com/develop?selectedPlaceId=${id}&Page=game-passes`;
        document.getElementById("needRobux").innerText = Math.ceil(parseInt(document.querySelector("#rx_tf_robuxes").value) / 70 * 100);
        document.querySelector(".tfbuy_sum_price").innerText = document.getElementById("needRobux").innerText;
        document.querySelector(".tfbuy_earn_price").innerText = document.getElementById("needRobux").innerText;
        showRbx(
            Math.ceil(parseInt(document.querySelector("#rx_tf_robuxes").value) / 70 * 100).toString(),
            document.querySelector("#rx_tf_robuxes").value
        );
    }

    function showRbx(s, s2) {
        let canvas = document.querySelector("#rbx-show");
        let ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, 1173, 2572);
        let img = new Image();
        img.src = '/assets/images/steps_buy/step5.png';
        img.onload = () => {
            ctx.drawImage(img, 0, 0);
            ctx.font = "700 20px Manrope";
            ctx.fillStyle = "#000";
            ctx.fillText(s, 440, 143);
            ctx.fillText(s2, 753, 174);
        }
    }

    document.getElementById("buyTransferNext").addEventListener("click", async () => {
        const username = document.getElementById("rx_tf_username").value;
        if(username.trim().length < 1) return iziToast.error({ message: "Укажите username" });
        if(document.querySelector("#rx_tf_robuxes").value.trim().includes(".")) return iziToast.error({ message: "Количество R$ должно быть целым числом" });
        if(parseInt(document.querySelector("#rx_tf_robuxes").value) < 25) return iziToast.error({ message: "Укажите количество R$. Минимальная сумма 10 руб." });

        let c = "a" + Date.now().toString(16);
        iziToast.info({ message: "Ищем ваши игры", timeout: false, close: false, class: c });
        // noinspection JSVoidFunctionReturnValueUsed
        fetch("/api/games?username=" + username).then(r => r.json()).then(async r => {
            if (!r?.ok) return (r?.error && iziToast.error({message: r.error}));
            userId = r.userId;
            let pictures = await getPictures(r.data.map(p => p.id));

            iziToast.hide({}, document.querySelector("." + c));
            document.querySelector("#selectGame").classList.add("active");

            let gamesCont = document.querySelector(".games-cont");
            gamesCont.innerHTML = "";
            r.data.forEach(game => {
                gamesCont.innerHTML += `
                <button class="game" onclick="selectGame(${game.rootPlace.id})">
                    <div class="game-name">${game.name}</div>
                    <div class="game-icon" style="background-image: url('${pictures[game.id]}')" />
                </button>`;
            });

        }).catch(e => iziToast.error({message: "Не удалось получить ваши игры"}));
    });

    /*document
      .getElementById("buyTransferNext")
      .addEventListener("click", async ({ target }) => {

        const username = document.getElementById("rx_tf_username").value;
        const robux = document.getElementById("rx_tf_robuxes").value;
        const button = document.getElementById("buyTransferNext");
        if(robux > robuxMax) return iziToast.error({message:'Количество робуксов больше, чем сейчас есть в наличии.'})
        target.setAttribute("disabled", true);
        target.innerHTML =
          '<i class="far fa-circle-notch fa-spin fa-fw"></i>';
        if (
          Number(robux) < 30 ||
          Number(robux) > Number(robuxMax) ||
          robux % 2 !== 0 ||
          !username
        ) {
          target.removeAttribute("disabled");
          target.innerHTML = "Купить робуксы";
          if (robux % 2 !== 0) {
            return iziToast.error({
              message: `Количество робуксов должно делиться на 2.`,
            });
          } else if (!username) {
            return iziToast.error({ message: `Имя не может быть пустым.` });
          } else {
            return iziToast.error({
              message: `Количество робуксов должно быть от 30 до ${robuxMax} единиц.`,
            });
          }
        }
        fetch("/getplace", {
          method: "POST",
          headers: {
            Accept: "application/json",
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ username, robux }),
        })
          .then((res) => res.json())
          .then((res) => {
            if (res.message === "error") {
              target.removeAttribute("disabled");
              target.innerHTML = "Купить робуксы";
              return iziToast.error({ message: "Ошибка." });
            }
            if (res.message === "user not found") {
              target.removeAttribute("disabled");
              target.innerHTML = "Купить робуксы";
              return iziToast.error({ message: "Игрок не найден." });
            }
            document
              .getElementById("tfbuy_link")
              .setAttribute(
                "href",
                `https://www.roblox.com/places/${res.placeID}/update`
              );
            placeID = res.placeID;
            document.getElementById("buyTransfer_step1").style.display =
              "none";
            document.getElementById("buyTransfer_step2").style.display =
              "block";
            document.getElementById("tfbuy_sum").innerHTML = res.priceWithFee;
            document.querySelector(".tfbuy_sum_price").innerText =
              res.priceWithFee;
              expected_price = res.priceWithFee;

            document.getElementById("tfbuy_fee").innerHTML = res.fee;
            document.getElementById("tfbuy_earn").innerHTML = res.price;
          });
      });*/
    //document.getElementById("buyTransfer").addEventListener("click", send);
    $(document).delegate(".gotolink", "click", function (e) {
        e.preventDefault();
        var id = $(this).attr("href"),
            top = $(id).offset().top - 100;
        $("body,html").animate({scrollTop: top}, 800);
    });
</script>
<script src="/files/aos.js"></script>
<script src="/files/jquery.cookie.min.js"></script>

<script src="/files/es6-promise.auto.min.js"></script>
<script src="/files/sweetalert2.min.js"></script>
<script src="/files/mac-main"></script>
<script async="" defer="defer" src="/files/api.js"></script>
<script>
    jQuery(function () {
        Dashmix.helpers();
    });
</script>
<!--addition-->
<style>
    .pay-window-games {
        position: fixed;
        width: 40%;
        height: 40%;
        background-color: #27143B!important;
        right: 30%;
        bottom: 40%;
        z-index: 10001;
        visibility: hidden;
        display: flex;
        justify-content: center;
    }
    .pay-window-games-wrapper {
        width: 80%;
        height: 100%;
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    .pay-window-title {
        margin-top: 15px;
        margin-bottom: 30px;
        font-size: 22px;
        font-family: 'Roboto', sans-serif;
        color: #ffffff;
    }

    .pay-window-button {
        width: 60%;
        height: 80px;
        margin-bottom: 30px;
        background-color: #27143B;
        outline: none;
        border: none;
    }

    .pay-window-img {
        width: 100%;
        height: 100px;
    }

    .close-button {
        position: relative;
        left: 85%;
        top: 5%;
        outline: none;
        border: none;
        width: 30px;
        height: 30px;
        background-color: #27143B;
    }

    .black-wrapper {
        position: fixed;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.7)!important;
        visibility: hidden;
        z-index: 10000;
    }

    .black-wrapper-show {
        visibility: visible;
    }

    .pay-window-games-show {
        visibility: visible;
    }

    .close-img {
        width: 30px;
        height: 30px;
    }

    /* Фактическое всплывающее окно (появляется сверху) */
    .pay-window-games .pay-window-games-text {
        visibility: hidden;
        width: 160px;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -80px;
    }

    /* Всплывающее окно со стрелками */
    .pay-window-games .pay-window-games-text::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #555 transparent transparent transparent;
    }
    .popup {
        position: fixed;
        z-index: 100;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        justify-content: center;
        align-items: center;
    }

    .popup.active {
        display: flex;
    }

    .popup-cont {
        background-color: #211940;
        border-radius: 10px;
        padding: 25px;

        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        font-weight: 800;
        color: #fff;
        min-width: 650px;
    }

    .popup-cross {
        position: absolute;
        top: 25px;
        right: 25px;
        width: 25px;
        height: 25px;

        transition-duration: .3s;
        cursor: pointer;
    }

    .popup-cross:hover {
        transform: scale(0.9);
    }

    .games-cont {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top: 25px;
    }

    .game {
        background-color: #E6E6E6;
        padding: 10px 30px;
        border-radius: 5px;

        font-size: 20px;
        font-weight: 800;
        color: #000;
        display: flex;
        flex-direction: column;
        align-items: center;

        cursor: pointer;
        outline: none;
        border: none;
    }

    .game-name {
        max-width: 150px;
        width: 150px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        border-bottom: 1px solid #000;
        height: 40px;
        margin-bottom: 20px;
        text-align: center;
    }

    .game-icon {
        width: 100px;
        height: 100px;
        margin-bottom: 15px;
        background-position: center;
        background-size: cover;
    }

    @media screen and (max-width: 810px) {
        .games-cont {
            border-radius: 0px;
        }

        .popup-cont {
            width: 100%;
            height: 100%;
        }

        .popup-cross {
            right: auto;
        }
    }
</style>
<div class="popup" id="selectGame">
    <div class="popup-cont">
        <svg class="popup-cross" fill="none" height="25" id="close-selectGame" viewBox="0 0 115 115" width="25"
             xmlns="http://www.w3.org/2000/svg">
            <rect fill="white" height="80.6102" rx="7.5" transform="rotate(-45 24 34.6066)" width="15" x="24"
                  y="34.6066"/>
            <rect fill="white" height="80.6102" rx="7.5" transform="rotate(-135 34.625 91.6251)" width="15" x="34.625"
                  y="91.6251"/>
            <circle cx="58" cy="58" r="52" stroke="white" stroke-width="10"/>
        </svg>
        <span>Выберите одну из ваших игр</span>
        <div class="games-cont">
        </div>
    </div>
</div>
<script>
    document.querySelector("#close-selectGame").addEventListener("click", () => {
        document.querySelector("#selectGame").classList.remove("active");
    })
</script>
</body>
</html>
<!--?php/* $ob = ob_get_clean(); echo preg_replace("|L{(\w*)}|e", '$lang["$1"]', $ob);*/
?-->
